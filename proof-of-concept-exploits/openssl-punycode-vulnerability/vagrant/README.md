# Vulnerable Vagrant Environment


![openssl vagrant poc](../openssl-vagrant-poc.gif "openssl vagrant poc")

This Vagrant configuration will launch the vagrant environment with:
1. Linux ubuntu box contains OpenSSL with the malicious certificate
2. Windows box with vulnerable OpenSSL 

> If you want to replicate the attacking scenarios from scratch, visit [Malicious Client](../malicious_client/) or [Malicious Server](../malicious_server/)


## steps

1. Run vagrant 
```
vagrant up
```


2. Initiate RDP access to the windows VM

```
vagrant rdp windows
```

3. Use any RDP client to connect to the windows VM, using username `vagrant` and password `vagrant`


4. Open the windows command line and navigate to the POC directory
```
cd C:\Users\vagrant\Documents\WindowsCrash\
```

We've compiled openssl.exe for you using the official instructions [here](https://github.com/openssl/openssl/blob/master/NOTES-WINDOWS.md#native-builds-using-visual-c++)


5. Now just connect to the malicious client

```
openssl.exe s_client -connect 192.168.56.3:3000
```

As you will see the openssl.exe will crash in the verify step, and you can see the crash in the event viewer



